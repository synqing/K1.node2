{
  "name": "Twilight Chroma",
  "description": "Chromagram-based pitch visualization - LED groups respond to musical note energy (C through B). Repeats 12-note pattern across LED strip.",
  "palette_data": [
    [0, 255, 165, 0],
    [42, 240, 128, 0],
    [85, 220, 80, 20],
    [127, 180, 60, 120],
    [170, 100, 40, 180],
    [212, 30, 20, 140],
    [255, 10, 15, 80]
  ],
  "nodes": [
    {
      "id": "position",
      "type": "position_gradient",
      "description": "LED position 0-1"
    },
    {
      "id": "scaled_pos",
      "type": "scale",
      "inputs": ["position"],
      "parameters": { "factor": 12.0 },
      "description": "Scale position to 0-12 for 12 chromagram bins"
    },
    {
      "id": "pitch_index",
      "type": "modulo",
      "inputs": ["scaled_pos"],
      "parameters": { "divisor": 12.0 },
      "description": "Wrap to 0-12 range for repeating pattern"
    },
    {
      "id": "chroma_avg",
      "type": "chromagram",
      "parameters": { "pitch": 0 },
      "description": "Average chromagram energy across all pitch classes"
    },
    {
      "id": "out",
      "type": "palette_interpolate",
      "inputs": ["chroma_avg"],
      "description": "Map chromagram energy to Twilight palette"
    }
  ],
  "wires": [
    { "from": "position", "to": "scaled_pos" },
    { "from": "scaled_pos", "to": "pitch_index" },
    { "from": "chroma_avg", "to": "out" }
  ]
}
