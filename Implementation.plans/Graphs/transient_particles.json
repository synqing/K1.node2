{
  "name": "Transient Particles",
  "description": "Onset detection triggers particle explosions from center. Fast attack, exponential decay based on audio envelope.",
  "artistic_intent": "CENTER-ORIGIN particle bursts: transients explode from center, decay exponentially. Uses novelty curve for onset detection.",
  "palette_data": [
    [0, 0, 0, 0],
    [32, 255, 100, 0],
    [64, 255, 150, 50],
    [96, 255, 200, 100],
    [128, 255, 255, 150],
    [160, 255, 255, 200],
    [192, 255, 255, 230],
    [255, 255, 255, 255]
  ],
  "nodes": [
    {
      "id": "position",
      "type": "position_gradient",
      "description": "CENTER-ORIGIN: explosion radius from center"
    },
    {
      "id": "beat_onset",
      "type": "beat",
      "parameters": { "tempo_bin": -1 },
      "description": "Beat detection for transient onset"
    },
    {
      "id": "bass_kick",
      "type": "spectrum_range",
      "parameters": { "band": "low" },
      "description": "Bass energy for kick drum detection"
    },
    {
      "id": "treble_snap",
      "type": "spectrum_range",
      "parameters": { "band": "high" },
      "description": "Treble energy for snare/cymbal detection"
    },
    {
      "id": "onset_signal",
      "type": "multiply",
      "inputs": ["beat_onset", "bass_kick"],
      "description": "Combine beat and bass for strong onset detection"
    },
    {
      "id": "onset_boosted",
      "type": "scale",
      "inputs": ["onset_signal"],
      "parameters": { "factor": 2.0 },
      "description": "Double onset signal for explosive effect"
    },
    {
      "id": "position_inverse",
      "type": "scale",
      "inputs": ["position"],
      "parameters": { "factor": -1.0 },
      "description": "Invert position: 1 at center, 0 at edges"
    },
    {
      "id": "constant_one",
      "type": "constant",
      "parameters": { "value": 1.0 },
      "description": "Constant value 1.0"
    },
    {
      "id": "position_corrected",
      "type": "add",
      "inputs": ["position_inverse", "constant_one"],
      "description": "Add 1.0 constant to make center bright"
    },
    {
      "id": "particle_radius",
      "type": "multiply",
      "inputs": ["position_corrected", "onset_boosted"],
      "description": "Particle brightness decays from center"
    },
    {
      "id": "final_position",
      "type": "clamp",
      "inputs": ["particle_radius"],
      "parameters": { "min": 0.0, "max": 1.0 },
      "description": "Clamp to valid 0-1 range"
    },
    {
      "id": "output",
      "type": "palette_interpolate",
      "inputs": ["final_position"],
      "description": "Orange flash at center, white explosion outward"
    }
  ],
  "wires": [
    { "from": "beat_onset", "to": "onset_signal" },
    { "from": "bass_kick", "to": "onset_signal" },
    { "from": "onset_signal", "to": "onset_boosted" },
    { "from": "position", "to": "position_inverse" },
    { "from": "position_inverse", "to": "position_corrected" },
    { "from": "constant_one", "to": "position_corrected" },
    { "from": "position_corrected", "to": "particle_radius" },
    { "from": "onset_boosted", "to": "particle_radius" },
    { "from": "particle_radius", "to": "final_position" },
    { "from": "final_position", "to": "output" }
  ]
}
