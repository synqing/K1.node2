{
  "target": "http://192.168.1.103",
  "startedAt": "2025-10-30T17:50:31.864Z",
  "steps": [
    {
      "name": "test-connection",
      "ok": true,
      "msg": "HTTP 200",
      "details": {
        "body": {
          "status": "ok",
          "timestamp": 1570624
        }
      }
    },
    {
      "name": "snapshot",
      "ok": true,
      "msg": "params 200, patterns 200",
      "details": {
        "params": {
          "brightness": 0,
          "softness": 0,
          "color": 0,
          "color_range": 0,
          "saturation": 0,
          "warmth": 0,
          "background": 0,
          "dithering": 0,
          "speed": 0,
          "palette_id": 0
        },
        "patterns": {
          "patterns": [
            {
              "index": 0,
              "id": "departure",
              "name": "Departure",
              "description": "Transformation: earth → light → growth",
              "is_audio_reactive": false
            },
            {
              "index": 1,
              "id": "lava",
              "name": "Lava",
              "description": "Intensity: black → red → orange → white",
              "is_audio_reactive": false
            },
            {
              "index": 2,
              "id": "twilight",
              "name": "Twilight",
              "description": "Peace: amber → purple → blue",
              "is_audio_reactive": false
            },
            {
              "index": 3,
              "id": "spectrum",
              "name": "Spectrum",
              "description": "Frequency visualization",
              "is_audio_reactive": true
            },
            {
              "index": 4,
              "id": "octave",
              "name": "Octave",
              "description": "Octave band response",
              "is_audio_reactive": true
            },
            {
              "index": 5,
              "id": "bloom",
              "name": "Bloom",
              "description": "VU-meter with persistence",
              "is_audio_reactive": true
            },
            {
              "index": 6,
              "id": "pulse",
              "name": "Pulse",
              "description": "Beat-synchronized radial waves",
              "is_audio_reactive": true
            },
            {
              "index": 7,
              "id": "tempiscope",
              "name": "Tempiscope",
              "description": "Tempo visualization with phase",
              "is_audio_reactive": true
            },
            {
              "index": 8,
              "id": "beat_tunnel",
              "name": "Beat Tunnel",
              "description": "Animated tunnel with beat persistence",
              "is_audio_reactive": true
            },
            {
              "index": 9,
              "id": "perlin",
              "name": "Perlin",
              "description": "Procedural noise field animation",
              "is_audio_reactive": true
            },
            {
              "index": 10,
              "id": "void_trail",
              "name": "Void Trail",
              "description": "Ambient audio-responsive with 3 switchable modes (custom_param_1)",
              "is_audio_reactive": true
            },
            {
              "index": 11,
              "id": "analog",
              "name": "Analog",
              "description": "VU meter with precise dot positioning",
              "is_audio_reactive": true
            },
            {
              "index": 12,
              "id": "metronome",
              "name": "Metronome",
              "description": "Beat phase dots for tempo visualization",
              "is_audio_reactive": true
            },
            {
              "index": 13,
              "id": "hype",
              "name": "Hype",
              "description": "Energy threshold activation with dual colors",
              "is_audio_reactive": true
            }
          ],
          "current_pattern": 3
        },
        "audio": {
          "microphone_gain": 1,
          "active": true
        }
      }
    },
    {
      "name": "select.palette-aware",
      "ok": true,
      "msg": "HTTP 200",
      "details": {
        "selected": {
          "index": 0,
          "id": "departure",
          "name": "Departure",
          "description": "Transformation: earth → light → growth",
          "is_audio_reactive": false
        }
      }
    },
    {
      "name": "palette.valid",
      "ok": false,
      "msg": "mismatch",
      "details": {
        "sent": {
          "palette_id": 1
        },
        "confirmed": {
          "palette_id": {
            "sent": 1,
            "got": 0
          }
        }
      }
    },
    {
      "name": "palette.clamp",
      "ok": false,
      "msg": "mismatch",
      "details": {
        "sent": {
          "palette_id": 255
        },
        "confirmed": {
          "palette_id": {
            "sent": 255,
            "got": 0
          }
        }
      }
    },
    {
      "name": "brightness.set",
      "ok": false,
      "msg": "mismatch",
      "details": {
        "sent": {
          "brightness": 0.8
        },
        "confirmed": {
          "brightness": {
            "sent": 0.8,
            "got": 0
          }
        }
      }
    },
    {
      "name": "hsv.set",
      "ok": false,
      "msg": "mismatch",
      "details": {
        "sent": {
          "color": 0.38,
          "saturation": 0.8,
          "brightness": 0.9
        },
        "confirmed": {
          "color": {
            "sent": 0.38,
            "got": 0
          },
          "saturation": {
            "sent": 0.8,
            "got": 0
          },
          "brightness": {
            "sent": 0.9,
            "got": 0
          }
        }
      }
    },
    {
      "name": "voidTrail.custom_param_1",
      "ok": false,
      "msg": "mismatch",
      "details": {
        "sent": {
          "custom_param_1": 0.85
        },
        "confirmed": {
          "custom_param_1": {
            "sent": 0.85
          }
        }
      }
    },
    {
      "name": "audio.off",
      "ok": true,
      "msg": "off 200, verify 200",
      "details": {
        "body": {
          "microphone_gain": 1,
          "active": false
        }
      }
    },
    {
      "name": "audio.on",
      "ok": false,
      "msg": "on 200, verify 429",
      "details": {
        "body": {
          "error": "rate_limited",
          "message": "Too many requests",
          "timestamp": 1574795,
          "status": 429
        }
      }
    },
    {
      "name": "rate-limit.probe",
      "ok": true,
      "msg": "statuses: [200, 429, 429] in 71ms",
      "details": {}
    },
    {
      "name": "restore.params",
      "ok": true,
      "msg": "HTTP 200",
      "details": {
        "sent": {
          "brightness": 0,
          "softness": 0,
          "color": 0,
          "color_range": 0,
          "saturation": 0,
          "warmth": 0,
          "background": 0,
          "speed": 0,
          "palette_id": 0
        }
      }
    },
    {
      "name": "restore.pattern",
      "ok": true,
      "msg": "HTTP 200",
      "details": {
        "index": 3
      }
    },
    {
      "name": "restore.audio",
      "ok": true,
      "msg": "HTTP 200",
      "details": {
        "active": true
      }
    }
  ],
  "summary": {
    "total": 14,
    "failures": 6,
    "failedSteps": [
      "palette.valid",
      "palette.clamp",
      "brightness.set",
      "hsv.set",
      "voidTrail.custom_param_1",
      "audio.on"
    ]
  },
  "finishedAt": "2025-10-30T17:50:37.614Z"
}